function changeData(n){dataSource.url="/Regions/Data/"+n;dataSource.load()}var chart=am4core.create("newchartdiv",am4maps.MapChart),polygonSeries,polygonTemplate,heatLegend,dataSource;chart.geodata=am4geodata_chileLow;chart.projection=new am4maps.projections.Miller;polygonSeries=chart.series.push(new am4maps.MapPolygonSeries);polygonSeries.useGeodata=!0;polygonTemplate=polygonSeries.mapPolygons.template;polygonSeries.heatRules.push({property:"fill",target:polygonTemplate,min:am4core.color("gold"),max:am4core.color("darkred")});polygonTemplate.tooltipText="{name}: {value} Ton";polygonTemplate.events.on("hit",function(n){chart.zoomToMapObject(n.target)});heatLegend=chart.createChild(am4maps.HeatLegend);heatLegend.valign="bottom";heatLegend.align="left";heatLegend.series=polygonSeries;heatLegend.width=am4core.percent(100);heatLegend.orientation="horizontal";heatLegend.padding(20,20,20,20);heatLegend.valueAxis.renderer.labels.template.fontSize=10;heatLegend.valueAxis.renderer.minGridDistance=50;dataSource=polygonSeries.dataSource;dataSource.url="/Regions/Data/0";polygonTemplate.events.on("over",function(n){isNaN(n.target.dataItem.value)?heatLegend.valueAxis.hideTooltip():heatLegend.valueAxis.showTooltipAt(n.target.dataItem.value)});chart.exporting.menu=new am4core.ExportMenu;polygonTemplate.events.on("out",function(){heatLegend.valueAxis.hideTooltip()});chart.zoomControl=new am4maps.ZoomControl;chart.zoomControl.valign="bottom";