function changeData(n){n.length<2&&(n=["0","True"],$(".selectpicker").val(n));dataSource.url="/countries/data/"+n[0]+"?p="+n[1];dataSource.load();lineSeries.dataSource.url="/countries/lines/"+n[0];lineSeries.dataSource.load();imageSeries.dataSource.url="/countries/images/"+n[0];imageSeries.dataSource.load();pieSeries.dataSource.url="/countries/continents?p="+n[1];pieSeries.dataSource.load();var t=n[1]==="True"?"Ton":"FOB";polygonTemplate.tooltipText="{name}: {value} "+t}var chart,polygonSeries,polygonTemplate,heatLegend,dataSource,lineSeries,lineTemplate,imageSeries,imageTemplate,marker,pieSeries,pieTemplate,pieChartTemplate,pieTitle,pieSeriesTemplate;am4core.useTheme(am4themes_animated);chart=am4core.create("chartdiv",am4maps.MapChart);chart.geodata=am4geodata_worldLow;chart.projection=new am4maps.projections.Miller;polygonSeries=chart.series.push(new am4maps.MapPolygonSeries);polygonSeries.exclude=["AQ"];polygonSeries.useGeodata=!0;chart.zoomControl=new am4maps.ZoomControl;chart.zoomControl.valign="bottom";polygonTemplate=polygonSeries.mapPolygons.template;polygonSeries.heatRules.push({property:"fill",target:polygonTemplate,min:am4core.color("gold"),max:am4core.color("darkred")});polygonTemplate.tooltipText="{name}: {value} Ton";polygonTemplate.events.on("hit",function(n){chart.zoomToMapObject(n.target)});heatLegend=chart.createChild(am4maps.HeatLegend);heatLegend.valign="bottom";heatLegend.align="left";heatLegend.series=polygonSeries;heatLegend.width=am4core.percent(100);heatLegend.orientation="horizontal";heatLegend.padding(20,20,20,20);heatLegend.valueAxis.renderer.labels.template.fontSize=10;heatLegend.valueAxis.renderer.minGridDistance=50;polygonTemplate.events.on("over",function(n){isNaN(n.target.dataItem.value)?heatLegend.valueAxis.hideTooltip():heatLegend.valueAxis.showTooltipAt(n.target.dataItem.value)});polygonTemplate.events.on("out",function(){heatLegend.valueAxis.hideTooltip()});dataSource=polygonSeries.dataSource;dataSource.url="/countries/data/0?p=true";lineSeries=chart.series.push(new am4maps.MapLineSeries);lineTemplate=lineSeries.mapLines.template;lineSeries.mapLines.template.strokeWidth=.4;lineTemplate.stroke=chart.colors.getIndex(1).brighten(-.5);lineSeries.dataSource.url="/countries/lines/0";lineSeries.mapLines.template.shortestDistance=!1;imageSeries=chart.series.push(new am4maps.MapImageSeries);imageTemplate=imageSeries.mapImages.template;imageTemplate.tooltipText="{title}";imageTemplate.nonScaling=!0;marker=imageTemplate.createChild(am4core.Circle);marker.fill=chart.colors.getIndex(1).brighten(-.5);imageTemplate.propertyFields.latitude="latitude";imageTemplate.propertyFields.longitude="longitude";imageSeries.dataSource.url="/countries/images/0";marker.radius=3;marker.strokeWidth=1;pieSeries=chart.series.push(new am4maps.MapImageSeries);pieTemplate=pieSeries.mapImages.template;pieTemplate.propertyFields.latitude="latitude";pieTemplate.propertyFields.longitude="longitude";pieChartTemplate=pieTemplate.createChild(am4charts.PieChart);pieChartTemplate.adapter.add("data",function(n,t){return t.dataItem?t.dataItem.dataContext.pieData:[]});pieChartTemplate.propertyFields.width="width";pieChartTemplate.propertyFields.height="height";pieChartTemplate.horizontalCenter="middle";pieChartTemplate.verticalCenter="middle";pieTitle=pieChartTemplate.titles.create();pieTitle.text="{title}";pieSeriesTemplate=pieChartTemplate.series.push(new am4charts.PieSeries);pieSeriesTemplate.dataFields.category="category";pieSeriesTemplate.dataFields.value="value";pieSeriesTemplate.labels.template.disabled=!0;pieSeriesTemplate.ticks.template.disabled=!0;pieSeries.dataSource.url="/countries/continents?p=true";chart.exporting.menu=new am4core.ExportMenu;